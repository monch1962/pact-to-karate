import org.springframework.cloud.contract.spec.Contract

{{#Interactions}}
Contract.make {
  description "{{Description}} ({{{ProviderState}}})"

  request {
    url "{{Request.Path}}"
    headers {
      {{#each Request.Headers}}"{{@key}}": "{{this}}"
      {{/each}}
    }
    method {{Request.Method}}
  }

  response {
    status {{Response.Status}}
    {{#Response.Headers}}headers {
      {{#each this}}"{{@key}}": "{{this}}"
      {{/each}}
    }{{/Response.Headers}}
    {{#Response.Body}} body (
      { {{#each this}}"{{@key}}": "{{this}}"{{#unless @last}},
      {{/unless}}{{/each}} }
    ){{/Response.Body}}
  }
}

{{/Interactions}}
